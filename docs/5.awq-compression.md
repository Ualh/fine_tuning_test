# AWQ / llm-compressor runner

This document explains the AWQ conversion runner: how to build and run the `awq-runner`, CLI usage, wrapper integration, and troubleshooting.

## Build the runner image

CPU (default):

```powershell
docker compose build awq-runner
```

GPU variant (optional): build the `gpu` target from `Dockerfile.awq-runner`.

## Run examples

Smoke import test:

```powershell
docker compose run --rm --no-deps -T awq-runner bash -lc "python3 -c 'import llmcompressor; print(\"awq ok\", llmcompressor.__version__)'"
```

Run compression (replace MERGED_REL):

```powershell
docker compose run --rm --no-deps -T awq-runner bash -lc "python3 /workspace/scripts/awq_runner.py --config '/workspace/config.yaml' --merged '/workspace/outputs/<MERGED_REL>/merged' --out '/workspace/outputs/<MERGED_REL>/merged/awq' --force"
```

## Tests

Unit tests live in `tests/awq/` and can be run inside the `sft` container:

```powershell
docker compose run --rm --no-deps -T sft bash -lc "python3 -m pytest -q tests/awq"
```
